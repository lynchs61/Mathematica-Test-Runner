#!/usr/bin/env wolframscript

(* Mathematica Package *)
(* Created by Mathematica Plugin for IntelliJ IDEA *)

(* :Title: mathematica-test-runner *)
(* :Context: mathematica-test-runner` *)
(* :Author: Sean Lynch *)
(* :Date: 2018-01-19 *)

version = "0.0.1";

versionInfo[] :=
    StringTemplate["Version: ``"][version];

usage[] :=
    StringTemplate["
    Usage: `name` [options] [file|directory]

    Options:

      -V, --version    Output the version number
      -h, --help       Output usage information
      -R, --reporter   Specify a reporter to use. Currently this can be one of
                       the following options: {spec, tap}
"
    ][<|"name" -> $ScriptCommandLine[[1]]|>];

(* Already used the name so get rid of it before further processing *)
argv = Rest[$ScriptCommandLine];

If[MemberQ[argv, "-h" | "--help"], Print[usage[]]; Exit[]];
If[MemberQ[argv, "-V" | "--version"], Print[versionInfo[]] Exit[]];

Print[argv]